# migo

## `jujuyuki/migo` is a MiGo Types library in Go.

This library is a fork of the [original MiGo Types library](https://github.com/nickng/migo) 
with minor adjustments.
MiGo (mini-go) is a calculus introduced in [this
paper](http://mrg.doc.ic.ac.uk/publications/fencing-off-go-liveness-and-safety-for-channel-based-programming/)
to capture core concurrency features of Go. 
It was later extended to account for shared memory primitives 
in an ongoing publication, by including GoldyLocks, a 
calculus centered around shared memory 
(relative paper currently accepted at ECOOP 2020 and to be linked here when available). 

This library was designed to work with MiGo types, i.e. the types of
communication primitives in the MiGo calculus, where the values to be
sent/received are abstracted away, for static analysis and verification.

It has been extended, with the help of the original author, to capture 
shared memory primitives such as shared variables and mutual exclusion (Mutex) locks.

## Install

The package can be installed using `go get`:

    go get github.com/jujuyuki/migo

## MiGo types

Syntax:

    identifier = [a-zA-Z0-9_.,#/]
    digit      = [0-9]
    program    = definition* ;
    definition = "def " identifier "(" param ")" ":" def-body ;
    param      =
               | params
               ;
    params     = identifier
               | params "," identifier
               ;
    def-body   = def-stmt+
               ;
    prefix     = "send" identifier
               | "recv" identifier
               | "tau"
               ;
    memprefix  = "read"  identifier
               | "write" identifier
               ;
    mutprefix  = "lock" identifier
               | "unlock" identifier
               ;
    rwmutprefix = mutprefix
               | "rlock" identifier
               | "runlock" identifier
               ;
    def-stmt   = "let" identifier = "newchan" identifier, digit+ ";"
               | prefix ";"
               | "letmem" identifier ";"
               | memprefix ";"
               | "letsync" identifier "mutex;"
               | mutprefix ";"
               | "letsync" identifier "rwmutex;"
               | rwmutprefix ";"
               | "close" identifier ";"
               | "call"  identifier "(" params ")" ";"
               | "spawn" identifier "(" params ")" ";"
               | "if" def-stmt+ "else" def-stmt+ "endif" ";"
               | "select" ( "case" prefix ";" def-stmt* )* "endselect" ";"
               ;

## Verification of MiGo

[Godel2](https://github.com/jujuyuki/godel2) is a liveness and safety checker of MiGo
types. The tool accepts MiGo types format generated by this package.
